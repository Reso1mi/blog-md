---
title: AtCoder Beginner Contest 188
tags:
  - ç®—æ³•
categories:
  - ç®—æ³•
date: 2021/1/21
abbrlink: 9edc8d3b
mathjax: true
---
> æ¯”èµ›åœ°å€ï¼šhttps://atcoder.jp/contests/abc188 ç¬¬ä¸€æ¬¡æ‰“ï¼Œå¤ªèœäº†åªå†™å‡ºäº† 3/6
> 
> å®Œæ•´ä»£ç ï¼ˆA-Fï¼‰: [Github](https://github.com/imlgw/competition-algorithm/tree/master/%E6%AF%94%E8%B5%9B/AtCoder/abc188)
## [A - Three-Point Shot](https://atcoder.jp/contests/abc188/tasks/abc188_a)
åˆ¤æ–­ä¸¤ä¸ªæ•°å·®å€¼æ˜¯å¦å¤§äº 3ï¼Œç›´æ¥åˆ¤æ–­
## [B - Orthogonality](https://atcoder.jp/contests/abc188/tasks/abc188_b)
æ±‚ä¸¤ä¸ªæ•°ç»„å†…ç§¯ï¼Œç›´æ¥æ±‚ï¼Œæ³¨æ„æº¢å‡º
## [C - ABC Tournament](https://atcoder.jp/contests/abc188/tasks/abc188_c)
$2^N$players, labeled $1$ through $2^N$ , will compete against each other in a single-elimination programming tournament. The rating of Player ${i}$ is $A_i$. Any two players have different ratings, and a match between two players always results in the victory of the player with the higher rating.

The tournament looks like a perfect binary tree.Formally, the tournament will proceed as follows:
- For each integer ${i= 1, 2 , 3 , â€¦,N}$ in this order, the following happens.
  - For each integer ${j(1 \leq j  \leq 2^{N-i}}$, among the players who have never lost, the player with the$(2j-1)$-th smallest label and the player with the $2j$-th smallest label play a match against each other.

Find the label of the player who will take **second place**, that is, lose in the final match.

**Constraints**

- $1 \leq N \leq 16$
- $1 \leq A_i \leq 10^9$
- $A_i$ are pairwise different
- All values in input are integers.

**Sample Input 1**
```c
2
1 4 2 5
```
**Sample Output 1**
```c
2
```
### è§£æ³•ä¸€
é¢˜ç›®çš„æ„æ€å°±æ˜¯æŠŠè¾“å…¥æ•°ç»„å½“ä½œä¸€é¢—å®Œå…¨äºŒå‰æ ‘çš„æœ€åº•å±‚å…ƒç´ ï¼Œç›¸é‚»çš„ä¸¤ä¸ª Player è¿›è¡Œæ·˜æ±°ï¼ˆrating ä½çš„ä¼šè¢«æ·˜æ±°ï¼‰ï¼Œæ±‚æœ€ç»ˆ battle ä¸­è´¥è€…çš„ç´¢å¼•ï¼ˆç¬¬äºŒï¼‰
```java
import java.util.*;
import java.io.*;

class Main {
    //2^16 = 65536
    public static void main(String... args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("./input.txt")));
        int N = Integer.valueOf(br.readLine());
        int[] w = read(br);
        LinkedList<Player> queue = new LinkedList<>();
        for (int i = 0; i < (1<<N); i++) {
            queue.addLast(new Player(i+1, w[i]));
        }
        while (queue.size() > 2) {
            Player p1 = queue.removeFirst();
            Player p2 = queue.removeFirst();
            queue.addLast(p1.rank > p2.rank ? p1 : p2);
        }
        Player p1 = queue.get(0);
        Player p2 = queue.get(1);
        System.out.println(p1.rank > p2.rank ? p2.i : p1.i);
    }

    static class Player{
        int i;
        int rank;
        public Player (int i, int rank) {
            this.rank = rank;
            this.i = i;
        }
    }

    public static int[] read(BufferedReader br) throws Exception {
        return Arrays.stream(br.readLine().split(" ")).mapToInt(Integer::parseInt).toArray();
    }
}
```

## [D - Snuke Prime](https://atcoder.jp/contests/abc188/tasks/abc188_d)

Snuke Inc. offers various kinds of services.

A payment plan called Snuke Prime is available.In this plan, by paying $C$ yen (the currency of Japan) per day, you can use all services offered by the company without additional fees.

You can start your subscription to this plan at the beginning of any day and cancel your subscription at the end of any day.

Takahashi is going to use $N$ of the services offered by the company.

He will use the $i$-th of those services from the beginning of the $a_i$-th day until the end of the $b_i$-th day, where today is the first day. Without a subscription to Snuke Prime, he has to pay $c_i$ yen per day to use the $i$-th service.

Find the minimum total amount of money Takahashi has to pay to use the services.

**Constraints**
- $1 \leq N \leq 2 \times 10^5$
- $1 \leq C \leq 10^9$
- $1 \leq a_i \leq b_i \leq 10^9$
- $1 \leq c_i \leq 10^9$
- All values in input are integers.

**Sample Input 1**
```c
2 6
1 2 4
2 2 4
```
**Sample Output 1**
```c
10
```
### è§£æ³•ä¸€
è¿™é¢˜å¡äº†å¥½ä¹…ï¼Œä¸€å¼€å§‹é¢˜ç›®çš„æ„æ€å°±ç†è§£äº†å¾ˆä¹…ï¼Œç›´åˆ°ç»“æŸä¹Ÿæ²¡æ•´æ˜ç™½ï¼ˆè‹±è¯­æ‰æ€¥ï¼‰ï¼Œæœ€åçœ‹åˆ«äººé¢˜è§£çš„æ—¶å€™æ‰æ˜ç™½å•¥æ„æ€ã€‚Otz

è¿™é‡Œå¤§æ¦‚çš„æ„æ€å°±æ˜¯è¯´ï¼šé«˜æ¡¥è¦ä½¿ç”¨ç»™å‡ºçš„æ‰€æœ‰æœåŠ¡ï¼Œè¿™äº›æœåŠ¡ä»$a_i$å¤©å¼€å§‹åˆ°$b_i$å¤©ç»“æŸï¼Œæ¯å¤©éœ€è¦æ”¯ä»˜$c_i$ï¼ŒåŒæ—¶è¯¥å…¬å¸æœ‰å¦ä¸€é¡¹æ”¿ç­–ï¼Œå°±æ˜¯è®¢é˜…`Snuke Prime`ï¼Œå½“å¤©æ”¯ä»˜$C$åå°±å¯ä»¥ä½¿ç”¨å½“å¤©å‡ºç°çš„æ‰€æœ‰æœåŠ¡ï¼Œä¸ç”¨é¢å¤–çš„ä»˜é’±ã€‚æ¯”å¦‚æ ·ä¾‹ä¸€ï¼Œç¬¬ä¸€é¡¹æœåŠ¡ç¬¬ä¸€å¤©æ”¯ä»˜ 4ï¼Œç¬¬äºŒå¤©æ”¯ä»˜ 6 åŒæ—¶ä½¿ç”¨ç¬¬ä¸€é¡¹æœåŠ¡å’Œç¬¬äºŒé¡¹æœåŠ¡ï¼Œæ€»å…± 10ï¼Œè¿™æ ·æ¶ˆè´¹æ˜¯æœ€å°çš„ã€‚

![](https://i.loli.net/2021/01/11/luhbOUCWjTmzVZ7.png)

è¦æ±‚æ€»ä½“æœ€å°çš„æ¶ˆè€—ï¼Œæˆ‘ä»¬å°±å¾—çŸ¥é“æ¯å¤©çš„æœ€å°èŠ±è´¹æ˜¯å¤šå¤§ï¼Œè¿™é‡Œé¢˜ç›®ç»™çš„æ˜¯ä¸€ä¸ªåŒºé—´$a_i \sim b_i$å†…æ‰€æœ‰æ—¶é—´çš„èŠ±è´¹$c[i]$ï¼Œè€Œè¿™é¢˜æ•°æ®å¾ˆå¤§ï¼Œæš´åŠ›å¿…ç„¶æ˜¯ä¸å¯è¡Œçš„ã€‚è§£å†³åŠæ³•å°±æ˜¯æ„å»ºå‡ºå·®åˆ†æ•°ç»„ï¼Œç„¶åæŒ‰æ—¶é—´æˆ³æ’åºï¼Œè®¡ç®—ä½¿ç”¨æ¯å¤©å‡ºç°çš„å„é¡¹æœåŠ¡çš„æ€»èŠ±è´¹ï¼Œå’Œ$C$å–ä¸€ä¸ªæœ€å°å€¼ï¼Œç„¶åä¹˜ä»¥å¯¹åº”çš„åŒºé—´çš„å¤©æ•°ï¼Œç´¯åŠ èµ·æ¥å°±æ˜¯ç»“æœ
```java
//1652ms
import java.util.*;
import java.io.*;

class Main {

    public static void main(String... args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("./input.txt")));
        int[] in = read(br);
        int N = in[0];
        int C = in[1];
        HashMap<Integer, Long> diff = new HashMap<>();
        for (int i = 0; i < N; i++) {
            int[] abc = read(br);
            int a = abc[0], b = abc[1], c = abc[2];
            // Java çš„ map ç¡®å®è›‹ç–¼ã€‚..
            diff.put(a, diff.getOrDefault(a, 0l)+c); diff.put(b+1, diff.getOrDefault(b+1, 0l)-c);
        }
        long res = 0;
        int last = 0; // ä¸Šä¸€ä¸ªæ—¶é—´ç‚¹
        long sum = 0; // å·®åˆ†å‰ç¼€å’Œ
        Integer[] keys = diff.keySet().toArray(new Integer[0]);
        // æŒ‰ç…§æ—¶é—´æ’åº
        Arrays.sort(keys);
        for (Integer key : keys) {
            long min = Math.min(sum, C);
            res += min * (key-last);
            last = key;
            sum += diff.get(key);
        }
        System.out.println(res);
    }

    public static int[] read(BufferedReader br) throws Exception {
        return Arrays.stream(br.readLine().split(" ")).mapToInt(Integer::parseInt).toArray();
    }
}

public class D {
    public static void main(String[] args) throws Exception {
        new Main().main();
    }
}
```

### è§£æ³•äºŒ
æ‰«æçº¿çš„åšæ³•ï¼Œå…¶å®å’Œå·®åˆ†æ€è·¯ä¸€æ ·ï¼Œä½†æ˜¯ä¸éœ€è¦ hashï¼Œç›¸æ¯”äºä¸Šé¢çš„è§£æ³•ï¼Œä¼šç¨å¾®å¿«ä¸€ç‚¹
```java
//913ms
import java.util.*;
import java.io.*;

class Event {
    int t, c;
    public Event(int t, int c) {
        this.t = t;
        this.c = c;
    }
}

class Main {

    public static void main(String... args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("./input.txt")));
        int[] in = read(br);
        int N = in[0];
        int C = in[1];
        List<Event> events = new ArrayList<>();
        for (int i = 0; i < N; i++) {
            int[] abc = read(br);
            int a = abc[0], b = abc[1], c = abc[2];
            events.add(new Event(a, c));
            events.add(new Event(b+1, -c));
        }
        long res = 0;
        int last = 0; // ä¸Šä¸€ä¸ªæ—¶é—´ç‚¹
        long sum = 0;
        // æŒ‰ç…§æ—¶é—´æ’åº
        Collections.sort(events, (e1, e2)->e1.t-e2.t);
        for (Event event : events) {
            long min = Math.min(sum, C);
            res += min * (event.t-last);
            last = event.t;
            sum += event.c;
        }
        System.out.println(res);
    }

    public static int[] read(BufferedReader br) throws Exception {
        return Arrays.stream(br.readLine().split(" ")).mapToInt(Integer::parseInt).toArray();
    }
}
```

## [E - Peddler](https://atcoder.jp/contests/abc188/tasks/abc188_e)

In Takahashi Kingdom, there are $N$ towns, called Town $1$ through Town $N$.
There are also $M$ roads in the kingdom, called Road $1$ through Road $M$. By traversing Road $i$, you can travel from Town $X_i$ to Town $Y_i$, but not vice versa. Here, it is guaranteed that $X_i < Y_i$.

Gold is actively traded in this kingdom. At Town $i$, you can buy or sell $1$ kilogram of gold for $A_i$ yen (the currency of Japan).

Takahashi, a traveling salesman, plans to buy $1$ kilogram of gold at some town, traverse one or more roads, and sell $1$ kilogram of gold at **another town**.

Find the maximum possible profit (that is, the selling price minus the buying price) in this plan.

**Constraints**
- $2 \leq N \leq 2 \times 10^5$
- $1 \leq M \leq 2 \times 10^5$
- $1 \leq A_i \leq 10^9$
- $1 \leq X_i < Y_i \leq N$
- $(X_i, Y_i) \neq (X_j, Y_j)(i \neq j)$
- All values in input are integers.

**Sample Input 1**
```c
4 3
2 3 1 5
2 4
1 2
1 3
```

**Sample Output 1**
```c
3
```
We can achieve the profit of $3$ yen, as follows:
- At Town $1$, buy one kilogram of gold for $2$ yen.
- Traverse Road $2$ to get to Town $2$.
- Traverse Road $1$ to get to Town $4$.
- At Town $4$, sell one kilogram of gold for $5$ yen.

### è§£æ³•ä¸€

è¿™é¢˜å…¶å®å’Œä¹°å–è‚¡ç¥¨é¢˜æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æˆ‘ä¸€å¼€å§‹ä»¥ä¸ºé¢˜ç›®æ˜¯æœ‰ç¯çš„ã€‚å®é™…ä¸Šé¢˜ç›®æ¡ä»¶ä¸­è¯´äº†$X_i < Y_i$æ‰€ä»¥è¿™å°±æ˜¯ä¸€ä¸ª DAGï¼Œç›´æ¥ DP å°±è¡Œäº†ï¼Œ$dp[i]$ä»£è¡¨ä»èµ·ç‚¹ï¼ˆåˆå§‹å…¥åº¦ä¸º 0 çš„ç‚¹ï¼‰åˆ°å½“å‰èŠ‚ç‚¹$i$æœ€ä½çš„ä¹°å…¥ä»·æ ¼ã€‚è¿‡ç¨‹ä¸­ç»Ÿè®¡ä¸€ä¸ªæœ€å¤§çš„$w[j]-dp[i]$å°±è¡Œäº†ï¼Œ$w[j]$ä¸ºå½“å‰èŠ‚ç‚¹å–å‡ºä»·æ ¼ï¼Œ$dp[i]$ä¸ºæºç‚¹åˆ°å½“å‰$j$èŠ‚ç‚¹ä¹‹å‰çš„æœ€ä½ä¹°å…¥ä»·æ ¼ï¼ˆä¸åŒ…æ‹¬$j$ï¼Œé¢˜ç›®è¯´äº†ä¸èƒ½å°±åœ°ä¹°å–ï¼Œæ”¶ç›Šå¯ä»¥ä¸ºè´Ÿï¼‰

è¿™é‡Œçš„åšæ³•æ˜¯ç”¨ BFS éå†å›¾ï¼Œä»å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹å¼€å§‹ï¼Œå½“æŸä¸ªå­èŠ‚ç‚¹å…¥åº¦ä¸º 0 çš„æ—¶å€™å†æŠŠä»–åŠ å…¥é˜Ÿåˆ—ï¼Œä¿è¯é€’æ¨çš„æ­£ç¡®æ€§ï¼Œè¿‡ç¨‹ä¸­ç»´æŠ¤å„ä¸ªèŠ‚ç‚¹çš„$dp$å€¼ï¼ŒåŒæ—¶è®¡ç®—æœ€å¤§å—ç›Šï¼Œæ•´ä¸ªè¿‡ç¨‹éœ€è¦éå†æ‰€æœ‰çš„èŠ‚ç‚¹å’Œè¾¹ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦$O(N+M)$
```java
//ä¸€å¼€å§‹ç”¨ hashmap å»ºå›¾æœªä¼˜åŒ–ï¼Œ1000ms+
//æ”¹æˆ ArrayList å»ºå›¾ 845msï¼Œè¦ä¸æ˜¯ Java çš„ List å¤ªéš¾ç”¨æˆ‘ä¹Ÿä¸ä¼šç”¨ map å»ºå›¾ã€‚..
import java.util.*;
import java.io.*;

class Main {

    public static void main(String... args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("./input.txt")));
        int INF = 0x3f3f3f3f;
        int[] nm = read(br);
        int N = nm[0], M = nm[1];
        int[] w = read(br);
        //èŠ‚ç‚¹å…¥åº¦æ•°
        int[] in = new int[N];
        List<Integer>[] adj = new ArrayList[N];
        for (int i = 0; i < M; i++) {
            int[] xy = read(br);
            int x = xy[0]-1, y = xy[1]-1;
            if (adj[x] == null) {
                adj[x] = new ArrayList<>();
            }
            adj[x].add(y);
            in[y]++;
        }
        int[] dp = new int[N];
        Arrays.fill(dp, INF);
        Queue<Integer> queue = new LinkedList<>();
        for (int i = 0; i < N; i++) {
            if (in[i] == 0) {
                queue.add(i);
                dp[i] = w[i];
            }
        }
        int res = -INF;
        while (!queue.isEmpty()) {
            int i = queue.poll();
            if (adj[i]==null) continue;
            for (Integer j : adj[i]) {
                res = Math.max(res, w[j] - dp[i]);
                //è¿™é‡Œ WA äº†å¥½å‡ å‘ã€‚.. è¿™é‡Œ dp[j] ä¸åªåœ¨è¿™é‡Œè®¡ç®—ä¸€æ¬¡ï¼Œå‰é¢å¯èƒ½è®¡ç®—è¿‡äº†ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¿‡å¾€çš„ dp[j] å– min
                dp[j] = Math.min(dp[j], Math.min(w[j], dp[i]));
                in[j]--;
                if (in[j] == 0) {
                    queue.add(j);
                }
            }
        }
        System.out.println(res);
    }

    public static int[] read(BufferedReader br) throws Exception {
        return Arrays.stream(br.readLine().split(" ")).mapToInt(Integer::parseInt).toArray();
    }
}
```

ä¼˜åŒ–åçš„ç›´æ¥é€’æ¨çš„å†™æ³•ï¼Œå› ä¸ºé¢˜ç›®è¯´äº†$x < y$æ‰€ä»¥å®é™…ä¸Šåªèƒ½ä»å‰å‘åï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¾ªåºéå†å°±ä¸€å®šèƒ½ä¿è¯ä¹‹å‰çš„èŠ‚ç‚¹æ˜¯è®¡ç®—è¿‡çš„ï¼Œä¸éœ€è¦å€ŸåŠ©é˜Ÿåˆ—

```java
//æ—¶é—´ä¸Šå’Œä¸Šé¢å·®ä¸å¤š
import java.util.*;
import java.io.*;

class Main {

    public static void main(String... args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("./input.txt")));
        int INF = 0x3f3f3f3f;
        int[] nm = read(br);
        int N = nm[0], M = nm[1];
        int[] w = read(br);
        List<Integer>[] adj = new ArrayList[N];
        for (int i = 0; i < M; i++) {
            int[] xy = read(br);
            int x = xy[0]-1, y = xy[1]-1;
            if (adj[x] == null) {
                adj[x] = new ArrayList<>();
            }
            adj[x].add(y);
        }
        int[] dp = new int[N];
        Arrays.fill(dp, INF);
        int res = -INF;
        //é¢˜ç›®è¯´äº† x<yï¼Œå…¶å®ä¹Ÿå°±è¯´æ˜äº†åªèƒ½ä»å‰å‘åèµ°ï¼Œæ‰€ä»¥ç›´æ¥é¡ºåºéå†æ˜¯æ²¡é—®é¢˜çš„
        for (int i = 0; i < N; i++) {
            //æ›´æ–°å½“å‰èŠ‚ç‚¹çš„ dp[i]
            dp[i] = Math.min(dp[i], w[i]);
            if (adj[i]==null) continue;
            for (Integer j : adj[i]) {
                res = Math.max(res, w[j] - dp[i]);
                //è¿™é‡Œ WA äº†å¥½å‡ å‘ã€‚.. è¿™é‡Œ dp[j] ä¸åªåœ¨è¿™é‡Œè®¡ç®—ä¸€æ¬¡ï¼Œå‰é¢å¯èƒ½è®¡ç®—è¿‡äº†ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¿‡å¾€çš„ dp[j] å– min
                dp[j] = Math.min(dp[j], Math.min(w[j], dp[i]));
            }
        }
        System.out.println(res);
    }

    public static int[] read(BufferedReader br) throws Exception {
        return Arrays.stream(br.readLine().split(" ")).mapToInt(Integer::parseInt).toArray();
    }
}
```

### è§£æ³•äºŒ

è¿™ä¸ªæ˜¯å‚è€ƒäº† [å®˜æ–¹é¢˜è§£](https://atcoder.jp/contests/abc188/editorial/555)ï¼Œè¿™ç§è§£æ³•å½“å›¾ä¸æ˜¯ DAG çš„æ—¶å€™ä¹Ÿé€‚ç”¨ï¼Œä¹Ÿå°±æ˜¯ä¸è€ƒè™‘$xy$å¤§å°å…³ç³»ï¼Œç»™çš„å›¾åªæ˜¯ä¸€ä¸ªæ™®é€šçš„æœ‰å‘å›¾ã€‚

é¦–å…ˆå¯¹å„ä¸ªåŸé•‡çš„é‡‘å­ä»·æ ¼è¿›è¡Œæ’åºï¼Œä»ä½åˆ°é«˜ï¼Œç„¶åä»ä»·æ ¼æœ€ä½çš„åŸé•‡$x_1$å¼€å§‹ BFSï¼Œæœç´¢$x_1$èƒ½åˆ°è¾¾çš„åŸé•‡$y_i$ï¼Œè®°å½•æœ€å¤§çš„æ”¶ç›Šï¼Œå¹¶æ ‡è®°åˆ°è¿‡çš„åŸé•‡ï¼Œç„¶åä»ä»·æ ¼ç¬¬äºŒä½çš„åŸé•‡$x_2$å¼€å§‹åŒæ ·çš„æ“ä½œï¼Œä½†æ˜¯è¿™ä¸€æ¬¡æˆ‘ä»¬ä¹‹å‰å·²ç»è¢«æ ‡è®°è¿‡çš„$x_1$èƒ½åˆ°è¾¾çš„åŸé•‡$y_i$ä¾¿ä¸ç”¨å†å…¥é˜Ÿäº†ï¼Œå› ä¸ºæ”¶ç›Šä¸€å®šå°äºä»$x_1$å¼€å§‹çš„æ”¶ç›Šã€‚å› ä¸ºéœ€è¦å¯¹ç‚¹è¿›è¡Œæ’åºï¼Œæ‰€ä»¥æ•´ä½“çš„å¤æ‚åº¦$O(NlogN+M)$

```java
import java.util.*;
import java.io.*;

class Main {

    public static void main(String... args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("./input.txt")));
        int INF = 0x3f3f3f3f;
        int[] nm = read(br);
        int N = nm[0], M = nm[1];
        int[] w = read(br);
        Integer[] tid = new Integer[N];
        for (int i = 0; i < N; i++) tid[i] = i;
        //å°† id æŒ‰ç…§ cost ä»å°åˆ°å¤§æ’åº
        Arrays.sort(tid, (t1,t2)->w[t1]-w[t2]);
        List<Integer>[] adj = new ArrayList[N];
        for (int i = 0; i < M; i++) {
            int[] xy = read(br);
            int x = xy[0]-1, y = xy[1]-1;
            if (adj[x] == null) {
                adj[x] = new ArrayList<>();
            }
            adj[x].add(y);
        }
        Queue<Integer> queue = new LinkedList<>();
        boolean[] visit = new boolean[N];
        int res = -INF;
        for (int i = 0; i < N; i++) {
            if (visit[tid[i]]) continue;
            queue.add(tid[i]);
            while (!queue.isEmpty()) {
                int cur = queue.poll();
                if (adj[cur]==null) continue;
                for (Integer j : adj[cur]) {
                    if (visit[j]) continue;
                    visit[j] = true;
                    res = Math.max(res, w[j]-w[tid[i]]);
                    queue.add(j);
                }
            }   
        }
        System.out.println(res);
    }

    public static int[] read(BufferedReader br) throws Exception {
        return Arrays.stream(br.readLine().split(" ")).mapToInt(Integer::parseInt).toArray();
    }
}
```

## [F - +1-1x2](https://atcoder.jp/contests/abc188/tasks/abc188_f) 

Takahashi has written an integer $X$ on a blackboard. He can do the following three kinds of operations any number of times in any order:

- increase the value written on the blackboard by $1$;
- decrease the value written on the blackboard by $1$;
- multiply the value written on the blackboard by $2$.

Find the minimum number of operations required to have $Y$ written on the blackboard.

**Constraints**

- $1 \le X \le 10^{18}$
- $1 \le Y \le 10^{18}$
- $X$ and $Y$ are integers.

**Sample Input 1**
```c
3 9
```
**Sample Output 1**
```c
3
```

### è§£æ³•ä¸€

è¿™ä¸ª F å…¶å®å¾ˆç®€å•ã€‚.. ç”šè‡³æˆ‘ä¹‹å‰ä¹Ÿåšè¿‡ç±»ä¼¼çš„é¢˜ï¼ˆ[åƒæ‰-N-ä¸ªæ©˜å­çš„æœ€å°‘å¤©æ•°](http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#1553-%E5%90%83%E6%8E%89-N-%E4%B8%AA%E6%A9%98%E5%AD%90%E7%9A%84%E6%9C%80%E5%B0%91%E5%A4%A9%E6%95%B0)ï¼‰ï¼Œä½†æ˜¯æ¯”èµ›çš„æ—¶å€™é¢˜éƒ½æ²¡çœ‹ğŸ˜‚

è¿™é¢˜å¦‚æœç›´æ¥è€ƒè™‘ä»$X \rightarrow Y$çš„è¯ï¼Œæ¯å±‚é€’å½’éƒ½æœ‰ 3 ä¸ªåˆ†æ”¯ï¼Œå¾ˆæ˜æ˜¾ä¼šçˆ†æ ˆã€‚æˆ‘ä»¬å¯ä»¥å°†é—®é¢˜è½¬åŒ–ä»$Y \rightarrow X$çš„ç­‰ä»·é—®é¢˜ï¼Œåè¿‡æ¥$Y$è½¬åŒ–æˆ$X$å°±æœ‰ä¸‰ç§é€‰æ‹©ï¼š$y-1$, $y+1$, $y/2$ã€‚é¦–å…ˆ$y/2$æ—¶$y$å¿…é¡»è¦æ˜¯å¶æ•°ï¼Œå¥‡æ•°æƒ…å†µåªè€ƒè™‘$y+1$å’Œ$y-1$ï¼Œé‚£ä¹ˆ$y$ä¸ºå¶æ•°æ—¶èƒ½è€ƒè™‘åŠ ä¸€å’Œå‡ä¸€åˆ†æ”¯å—ï¼Ÿ
1. $y$ä¸ºå¶æ•°ï¼ˆåªè€ƒè™‘ $y > x$ï¼Œå°äº$x$å·®å€¼å°±æ˜¯ç­”æ¡ˆï¼‰ï¼Œè¿™æ—¶å€™$y+1$ä¼šå¢å¤§$y$å’Œ$x$çš„å·®è·ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰å¯èƒ½æ˜¯$y+2$ç„¶åå†é™¤äºŒä½¿å¾—æ¬¡æ•°æ›´å°‘å‘¢ï¼Ÿä¹Ÿæ˜¯ä¸å¯èƒ½çš„ï¼Œ$(y+2)/2 = y/2+1$ï¼Œ è½¬æ¢åˆ°åŒä¸€ä¸ªå€¼ï¼Œå‰è€…éœ€è¦ 3 æ¬¡å˜åŒ–ï¼Œè€Œåè€…åªéœ€è¦ 2 æ¬¡å˜åŒ–ï¼Œæ‰€ä»¥ç›´æ¥é™¤ 2 æ˜¯æœ€ä¼˜é€‰æ‹©
2. $y-1$åŒç†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿéœ€è¦è€ƒè™‘$y$å’Œ$x$å·®è·å¾ˆå°çš„æ—¶å€™ï¼Œ$y$ç›´æ¥ä¸€æ­¥æ­¥çš„å‡åˆ°$x$çš„æƒ…å†µ

å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬å†åŠ ä¸Šè®°å¿†åŒ–ï¼Œå¤æ‚åº¦ç›´çº¿ä¸‹é™ï¼Œæ¯ä¸ªåˆ†æ”¯éƒ½æœ‰é™¤ 2ï¼Œæ—¶é—´å¤æ‚åº¦é™ä½ä¸ºå¯¹æ•°çº§åˆ«
```java
import java.util.*;
import java.io.*;

class Main {

    static HashMap<Long, Long> dp = new HashMap<>();

    public static void main(String... args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream("./input.txt")));
        long[] xy = read(br);
        long x = xy[0], y = xy[1];
        if (x >= y) {
            System.out.println(x-y);
            return;
        }
        System.out.println(dfs(x, y));
    }

    public static long dfs (long x, long y) {
        if (x > y) return x-y;
        if (x == y)  return 0;
        if (dp.containsKey(y)) {
            return dp.get(y);
        }
        long res = y-x;
        if (y%2==0) {
            res = Math.min(dfs(x, y/2)+1, res);
        } else {
            res = Math.min(dfs(x, (y-1)/2)+2, res);
            res = Math.min(dfs(x, (y+1)/2)+2, res);
        }
        dp.put(y, res);
        return res;
    }

    public static long[] read(BufferedReader br) throws Exception {
        return Arrays.stream(br.readLine().split(" ")).mapToLong(Long::parseLong).toArray();
    }
}
```