---
title: è®°ä¸¤é“å¹¶æŸ¥é›†çš„é¢˜ï¼ˆlc947 & lc803ï¼‰
tags:
  - ç®—æ³•
categories:
  - ç®—æ³•
date: 2021/1/18
abbrlink: 49a9955
---

> LeetCode æœ€è¿‘æ¯æ—¥ä¸€é¢˜å‡ºäº†å¥½å‡ é“å¹¶æŸ¥é›†çš„é¢˜ï¼Œæœ‰å‡ é“æŒºæœ‰æ„æ€çš„ï¼Œè®°å½•ä¸€ä¸‹
## [947. ç§»é™¤æœ€å¤šçš„åŒè¡Œæˆ–åŒåˆ—çŸ³å¤´](https://leetcode-cn.com/problems/most-stones-removed-with-same-row-or-column/)

Difficulty: **ä¸­ç­‰**

`n` å—çŸ³å¤´æ”¾ç½®åœ¨äºŒç»´å¹³é¢ä¸­çš„ä¸€äº›æ•´æ•°åæ ‡ç‚¹ä¸Šã€‚æ¯ä¸ªåæ ‡ç‚¹ä¸Šæœ€å¤šåªèƒ½æœ‰ä¸€å—çŸ³å¤´ã€‚

å¦‚æœä¸€å—çŸ³å¤´çš„ **åŒè¡Œæˆ–è€…åŒåˆ—** ä¸Šæœ‰å…¶ä»–çŸ³å¤´å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç§»é™¤è¿™å—çŸ³å¤´ã€‚

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `stones` ï¼Œå…¶ä¸­ stones[i] = [x<sub style="display: inline;">i</sub>, y<sub style="display: inline;">i</sub>] è¡¨ç¤ºç¬¬ `i` å—çŸ³å¤´çš„ä½ç½®ï¼Œè¿”å› **å¯ä»¥ç§»é™¤çš„çŸ³å­** çš„æœ€å¤§æ•°é‡ã€‚

**ç¤ºä¾‹ 1ï¼š**

```c
è¾“å…¥ï¼šstones = [[0,0],[0,1],[1,0],[1,2],[2,1],[2,2]]
è¾“å‡ºï¼š5
è§£é‡Šï¼šä¸€ç§ç§»é™¤ 5 å—çŸ³å¤´çš„æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š
1. ç§»é™¤çŸ³å¤´ [2,2] ï¼Œå› ä¸ºå®ƒå’Œ [2,1] åŒè¡Œã€‚
2. ç§»é™¤çŸ³å¤´ [2,1] ï¼Œå› ä¸ºå®ƒå’Œ [0,1] åŒåˆ—ã€‚
3. ç§»é™¤çŸ³å¤´ [1,2] ï¼Œå› ä¸ºå®ƒå’Œ [1,0] åŒè¡Œã€‚
4. ç§»é™¤çŸ³å¤´ [1,0] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒåˆ—ã€‚
5. ç§»é™¤çŸ³å¤´ [0,1] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒè¡Œã€‚
çŸ³å¤´ [0,0] ä¸èƒ½ç§»é™¤ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä¸å¦ä¸€å—çŸ³å¤´åŒè¡Œ/åˆ—ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```c
è¾“å…¥ï¼šstones = [[0,0],[0,2],[1,1],[2,0],[2,2]]
è¾“å‡ºï¼š3
è§£é‡Šï¼šä¸€ç§ç§»é™¤ 3 å—çŸ³å¤´çš„æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š
1. ç§»é™¤çŸ³å¤´ [2,2] ï¼Œå› ä¸ºå®ƒå’Œ [2,0] åŒè¡Œã€‚
2. ç§»é™¤çŸ³å¤´ [2,0] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒåˆ—ã€‚
3. ç§»é™¤çŸ³å¤´ [0,2] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒè¡Œã€‚
çŸ³å¤´ [0,0] å’Œ [1,1] ä¸èƒ½ç§»é™¤ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ä¸å¦ä¸€å—çŸ³å¤´åŒè¡Œ/åˆ—ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```c
è¾“å…¥ï¼šstones = [[0,0]]
è¾“å‡ºï¼š0
è§£é‡Šï¼š[0,0] æ˜¯å¹³é¢ä¸Šå”¯ä¸€ä¸€å—çŸ³å¤´ï¼Œæ‰€ä»¥ä¸å¯ä»¥ç§»é™¤å®ƒã€‚
```

**æç¤ºï¼š**

*   1 <= stones.length <= 1000
*   0 <= x<sub style="display: inline;">i</sub>, y<sub style="display: inline;">i</sub> <= 10<sup>4</sup>
*   ä¸ä¼šæœ‰ä¸¤å—çŸ³å¤´æ”¾åœ¨åŒä¸€ä¸ªåæ ‡ç‚¹ä¸Š

### è§£æ³•ä¸€

ç®€å•çš„æƒ³æ³•è‚¯å®šæ˜¯ç›´æ¥åŒé‡å¾ªç¯æšä¸¾æ‰€æœ‰çš„ç‚¹å¯¹ï¼Œå¦‚æœä¸¤ä¸ªç‚¹æ¨ªçºµåæ ‡æœ‰ä¸€æ ·çš„å°±åˆå¹¶ï¼Œæœ€åç»Ÿè®¡ä¸‹å°±è¡Œäº†ï¼Œä½†æ˜¯è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±æ¯”è¾ƒé«˜äº†ã€‚

è¿™é‡Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ€è·¯æ¥åˆå¹¶ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå„ä¸ªç‚¹æ˜¯å¦‚ä½•è”é€šçš„ï¼Œåªè¦å„ä¸ªç‚¹åœ¨åŒä¸€è¡Œæˆ–è€…åŒä¸€åˆ—é‚£ä¹ˆä»–ä»¬å°±æ˜¯è¿é€šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æ¯ä¸ªç‚¹çš„è¡Œåˆ—åæ ‡è¿›è¡Œåˆå¹¶ï¼Œä¹Ÿå°±ç›¸å½“äºæˆ‘ä»¬å°† **è¯¥è¡Œä»¥åŠè¯¥åˆ—çš„æ‰€æœ‰å…ƒç´ ** ä¸ **å½“å‰çš„å…ƒç´ ** åˆå¹¶èµ·æ¥ï¼Œæœ€åç”¨çŸ³å¤´æ•°é‡å‡å»è¿é€šåˆ†é‡çš„ä¸ªæ•°å°±è¡Œäº†ã€‚éœ€è¦æ³¨æ„çš„ç‚¹å°±æ˜¯æˆ‘ä»¬éœ€è¦åŒºåˆ†æ¨ªçºµåæ ‡ï¼Œé¿å…æ··æ·†ã€‚æ¯”å¦‚ï¼ˆ1ï¼Œ2ï¼‰å’Œï¼ˆ2ï¼Œ4ï¼‰ä¸æ˜¯åŒä¸€è¡Œåˆ—ï¼Œå¦‚æœä¸åŠ åŒºåˆ†å°±ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œè¿™é‡Œé¢˜ç›®ç»™äº†è¡Œåˆ—çš„èŒƒå›´ï¼Œæˆ‘ä»¬ç›´æ¥åŠ ä¸Šä¸€ä¸ª 10001 å°±è¡Œäº†

```python
class Solution(object):
    def removeStones(self, stones: List[List[int]]) -> int:
        n = len(stones)
        parent = {}
        count = 0

        def union(a, b):
            nonlocal count
            pa = find(a)
            pb = find(b)
            if pa == pb:
                return
            count -= 1
            parent[pa] = pb

        def find(a):
            nonlocal count
            if a not in parent:
                count += 1
                parent[a] = a
                return a
            if a == parent[a]:
                return a
            parent[a] = find(parent.get(a))
            return parent.get(a)

        for s in stones:
            union(s[0]+10001, s[1])
        return n - count
```

## [803. æ‰“ç –å—](https://leetcode-cn.com/problems/bricks-falling-when-hit/)

Difficulty: **å›°éš¾**

æœ‰ä¸€ä¸ª `m x n` çš„äºŒå…ƒç½‘æ ¼ï¼Œå…¶ä¸­ `1` è¡¨ç¤ºç –å—ï¼Œ`0` è¡¨ç¤ºç©ºç™½ã€‚ç –å— **ç¨³å®š**ï¼ˆä¸ä¼šæ‰è½ï¼‰çš„å‰ææ˜¯ï¼š

*   ä¸€å—ç –ç›´æ¥è¿æ¥åˆ°ç½‘æ ¼çš„é¡¶éƒ¨ï¼Œæˆ–è€…
*   è‡³å°‘æœ‰ä¸€å—ç›¸é‚»ï¼ˆ4Â ä¸ªæ–¹å‘ä¹‹ä¸€ï¼‰ç –å— **ç¨³å®š** ä¸ä¼šæ‰è½æ—¶

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `hits` ï¼Œè¿™æ˜¯éœ€è¦ä¾æ¬¡æ¶ˆé™¤ç –å—çš„ä½ç½®ã€‚æ¯å½“æ¶ˆé™¤Â `hits[i] = (rowi, coli)` ä½ç½®ä¸Šçš„ç –å—æ—¶ï¼Œå¯¹åº”ä½ç½®çš„ç –å—ï¼ˆè‹¥å­˜åœ¨ï¼‰ä¼šæ¶ˆå¤±ï¼Œç„¶åå…¶ä»–çš„ç –å—å¯èƒ½å› ä¸ºè¿™ä¸€æ¶ˆé™¤æ“ä½œè€Œæ‰è½ã€‚ä¸€æ—¦ç –å—æ‰è½ï¼Œå®ƒä¼šç«‹å³ä»ç½‘æ ¼ä¸­æ¶ˆå¤±ï¼ˆå³ï¼Œå®ƒä¸ä¼šè½åœ¨å…¶ä»–ç¨³å®šçš„ç –å—ä¸Šï¼‰ã€‚

è¿”å›ä¸€ä¸ªæ•°ç»„ `result` ï¼Œå…¶ä¸­ `result[i]` è¡¨ç¤ºç¬¬ `i` æ¬¡æ¶ˆé™¤æ“ä½œå¯¹åº”æ‰è½çš„ç –å—æ•°ç›®ã€‚

**æ³¨æ„**ï¼Œæ¶ˆé™¤å¯èƒ½æŒ‡å‘æ˜¯æ²¡æœ‰ç –å—çš„ç©ºç™½ä½ç½®ï¼Œå¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œåˆ™æ²¡æœ‰ç –å—æ‰è½ã€‚

**ç¤ºä¾‹ 1ï¼š**

```c
è¾“å…¥ï¼šgrid = [[1,0,0,0],[1,1,1,0]], hits = [[1,0]]
è¾“å‡ºï¼š[2]
è§£é‡Šï¼š
ç½‘æ ¼å¼€å§‹ä¸ºï¼š
[[1,0,0,0]ï¼Œ
 [1,1,1,0]]
æ¶ˆé™¤ (1,0) å¤„åŠ ç²—çš„ç –å—ï¼Œå¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0]
 [0,1,1,0]]
ä¸¤ä¸ªåŠ ç²—çš„ç –ä¸å†ç¨³å®šï¼Œå› ä¸ºå®ƒä»¬ä¸å†ä¸é¡¶éƒ¨ç›¸è¿ï¼Œä¹Ÿä¸å†ä¸å¦ä¸€ä¸ªç¨³å®šçš„ç –ç›¸é‚»ï¼Œå› æ­¤å®ƒä»¬å°†æ‰è½ã€‚å¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0],
 [0,0,0,0]]
å› æ­¤ï¼Œç»“æœä¸º [2] ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```c
è¾“å…¥ï¼šgrid = [[1,0,0,0],[1,1,0,0]], hits = [[1,1],[1,0]]
è¾“å‡ºï¼š[0,0]
è§£é‡Šï¼š
ç½‘æ ¼å¼€å§‹ä¸ºï¼š
[[1,0,0,0],
 [1,1,0,0]]
æ¶ˆé™¤ (1,1) å¤„åŠ ç²—çš„ç –å—ï¼Œå¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0],
 [1,0,0,0]]
å‰©ä¸‹çš„ç –éƒ½å¾ˆç¨³å®šï¼Œæ‰€ä»¥ä¸ä¼šæ‰è½ã€‚ç½‘æ ¼ä¿æŒä¸å˜ï¼š
[[1,0,0,0], 
 [1,0,0,0]]
æ¥ä¸‹æ¥æ¶ˆé™¤ (1,0) å¤„åŠ ç²—çš„ç –å—ï¼Œå¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0],
 [0,0,0,0]]
å‰©ä¸‹çš„ç –å—ä»ç„¶æ˜¯ç¨³å®šçš„ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ç –å—æ‰è½ã€‚
å› æ­¤ï¼Œç»“æœä¸º [0,0] ã€‚
```

**æç¤ºï¼š**

*   m == grid.length
*   n == grid[i].length
*   1 <= m, n <= 200
*   grid[i][j] ä¸º `0` æˆ– `1`
*   1 <= hits.length <= 4 * 10<sup>4</sup>
*   hits[i].length == 2
*   0 <= x<sub style="display: inline;">iÂ </sub><= m - 1
*   0 <=Â y<sub style="display: inline;">i</sub> <= n - 1
*   æ‰€æœ‰ (x<sub style="display: inline;">i</sub>, y<sub style="display: inline;">i</sub>) äº’ä¸ç›¸åŒ

### è§£æ³•ä¸€

ä¹Ÿæ˜¯ä¸€é“å¾ˆæœ‰æ„æ€çš„å¹¶æŸ¥é›†çš„é¢˜ã€‚å¸¸è§„æ„ä¹‰ä¸Šçš„å¹¶æŸ¥é›†åªèƒ½å¤„ç†è¿é€šå—çš„åˆå¹¶ï¼Œè€Œè¿™é¢˜æ‰“æ‰ä¸€ä¸ªç –å—æ„å‘³ç€è¿é€šåˆ†é‡çš„æ‹†åˆ†ï¼Œé‚£æˆ‘ä»¬åº”è¯¥å¦‚ä½•åˆ©ç”¨å¹¶æŸ¥é›†å‘¢ï¼Ÿ

è¿™é‡Œçš„è§£æ³•å¾ˆå·§å¦™çš„é‡‡ç”¨äº† **é€†å‘æ€ç»´**ï¼Œæ—¢ç„¶æ‰“æ‰ç –å—æ— æ³•æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åè¿‡æ¥è¡¥ç –å—ï¼Œå…ˆå°†åŸæœ¬å¾…æ‰“å‡»çš„åœ°æ–¹ç½®ä¸º 0ï¼Œç„¶åé€†å‘çš„çš„è¡¥ä¸Šå»ï¼Œè€Œè¡¥çš„æ“ä½œå°±ä»£è¡¨ç€è¿é€šå—çš„åˆå¹¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿é€šå—æ•°é‡çš„å˜åŒ–ç»Ÿè®¡æ‰è½çš„ç –å—ï¼Œæ•´ä½“çš„æ€è·¯éå¸¸å·§å¦™ã€‚

å…·ä½“çš„ç®—æ³•å®ç°è¿˜æ˜¯æœ‰ä¸€äº›ç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œéƒ½æ³¨é‡Šåœ¨ä»£ç ä¸­äº†

```java
import java.util.*;
import java.io.*;
 
class Solution {

    int[] parent;
    int[] size;

    public int find(int a) {
        if (parent[a] == a) return a;
        return parent[a] = find(parent[a]);
    }

    public void union(int a, int b) {
        int pa = find(a);
        int pb = find(b);
        if (pa == pb) return;
        if (size[pa] > size[pb]) {
            parent[pb] = pa;
            size[pa] += size[pb]; 
        } else {
            parent[pa] = pb;
            size[pb] += size[pa];
        }
    }

    public int[] hitBricks(int[][] grid, int[][] hits) {
        int n = grid.length, m = grid[0].length;
        int hlen = hits.length;
        //è®°å½•å½“å‰ hits å¯¹åº”çš„ä½ç½®æœ‰æ²¡æœ‰ç –å—
        int[] exist = new int[hlen];
        for (int i = 0; i < hlen; i++) {
            int x = hits[i][0], y = hits[i][1];
            exist[i] = grid[x][y]&1;
            grid[x][y] = 0;
        }
        parent = new int[m*n+1];
        size = new int[m*n+1];
        //æŠ½è±¡çš„å±‹é¡¶èŠ‚ç‚¹
        int ROOT = m*n;
        for (int i = 0; i <= m*n; i++) {
            parent[i] = i;
            size[i] = 1;
        }
        //å’Œå±‹é¡¶æœ‰å…³è”çš„å…ˆåˆå¹¶ä¸‹
        for (int j = 0; j < m; j++) {
            if (grid[0][j] == 1) {
                union(ROOT, j);
            }
        }
        for (int i = 1; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (grid[i][j]==1) {
                    //ä¸å·¦è¾¹å’Œä¸Šè¾¹æ–¹å—åˆå¹¶
                    if (j-1 >= 0 && grid[i][j-1] == 1) {
                        union(m*i+j, m*i+j-1);
                    }
                    if (/*i-1 >= 0 &&*/ grid[i-1][j] == 1) {
                        union(m*i+j, m*(i-1)+j);
                    }
                }
            }
        }
        int[] res = new int[hlen];
        int[] dir = {1, 0, -1, 0, 1};
        for (int i = hlen-1; i >= 0; i--) {
            int last = size[find(ROOT)];
            int x = hits[i][0], y = hits[i][1];
            //WA_2: è¿˜åŸé”™è¯¯ï¼Œhit åŸæœ¬å¯èƒ½æ²¡æœ‰ç –å—ï¼Œä¸€å¼€å§‹ç›´æ¥è¿˜åŸæˆ 1 äº†
            grid[x][y] = exist[i]&1;
            if (grid[x][y] == 0) continue;
            //WA_1: è¿˜åŸåå’Œ ROOT è¿æ¥çš„åˆ«å¿˜äº†åˆå¹¶
            if (x == 0) union(ROOT, x*m+y);
            //ä¸å‘¨å›´ 4 ä¸ªæ–¹å‘çš„æ–¹å—åˆå¹¶
            for (int k = 0; k < 4; k++) {
                int nx = x + dir[k], ny = y + dir[k+1];
                if (nx < 0 || ny < 0 || nx >= n || ny >= m || grid[nx][ny] != 1) {
                    continue;
                }
                union(x*m+y, nx*m+ny);
            }
            res[i] = Math.max(0, size[find(ROOT)]-last-1);
        }
        return res;
    }
}
```

## [721. è´¦æˆ·åˆå¹¶](https://leetcode-cn.com/problems/accounts-merge/)

Difficulty: **ä¸­ç­‰**

ç»™å®šä¸€ä¸ªåˆ—è¡¨ `accounts`ï¼Œæ¯ä¸ªå…ƒç´  `accounts[i]`Â æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´  `accounts[i][0]`Â æ˜¯Â åç§° (name)ï¼Œå…¶ä½™å…ƒç´ æ˜¯ emails è¡¨ç¤ºè¯¥è´¦æˆ·çš„é‚®ç®±åœ°å€ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³åˆå¹¶è¿™äº›è´¦æˆ·ã€‚å¦‚æœä¸¤ä¸ªè´¦æˆ·éƒ½æœ‰ä¸€äº›å…±åŒçš„é‚®ç®±åœ°å€ï¼Œåˆ™ä¸¤ä¸ªè´¦æˆ·å¿…å®šå±äºåŒä¸€ä¸ªäººã€‚è¯·æ³¨æ„ï¼Œå³ä½¿ä¸¤ä¸ªè´¦æˆ·å…·æœ‰ç›¸åŒçš„åç§°ï¼Œå®ƒä»¬ä¹Ÿå¯èƒ½å±äºä¸åŒçš„äººï¼Œå› ä¸ºäººä»¬å¯èƒ½å…·æœ‰ç›¸åŒçš„åç§°ã€‚ä¸€ä¸ªäººæœ€åˆå¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡çš„è´¦æˆ·ï¼Œä½†å…¶æ‰€æœ‰è´¦æˆ·éƒ½å…·æœ‰ç›¸åŒçš„åç§°ã€‚

åˆå¹¶è´¦æˆ·åï¼ŒæŒ‰ä»¥ä¸‹æ ¼å¼è¿”å›è´¦æˆ·ï¼šæ¯ä¸ªè´¦æˆ·çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åç§°ï¼Œå…¶ä½™å…ƒç´ æ˜¯æŒ‰å­—ç¬¦ ASCII é¡ºåºæ’åˆ—çš„é‚®ç®±åœ°å€ã€‚è´¦æˆ·æœ¬èº«å¯ä»¥ä»¥ä»»æ„é¡ºåºè¿”å›ã€‚

**ç¤ºä¾‹ 1ï¼š**

```c
è¾“å…¥ï¼š
accounts = [["John", "johnsmith@mail.com", "john00@mail.com"], ["John", "johnnybravo@mail.com"], ["John", "johnsmith@mail.com", "john_newyork@mail.com"], ["Mary", "mary@mail.com"]]
è¾“å‡ºï¼š
[["John", 'john00@mail.com', 'john_newyork@mail.com', 'johnsmith@mail.com'],  ["John", "johnnybravo@mail.com"], ["Mary", "mary@mail.com"]]
è§£é‡Šï¼š
ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ª John æ˜¯åŒä¸€ä¸ªäººï¼Œå› ä¸ºä»–ä»¬æœ‰å…±åŒçš„é‚®ç®±åœ°å€ "johnsmith@mail.com"ã€‚ 
ç¬¬äºŒä¸ª John å’Œ Mary æ˜¯ä¸åŒçš„äººï¼Œå› ä¸ºä»–ä»¬çš„é‚®ç®±åœ°å€æ²¡æœ‰è¢«å…¶ä»–å¸æˆ·ä½¿ç”¨ã€‚
å¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›è¿™äº›åˆ—è¡¨ï¼Œä¾‹å¦‚ç­”æ¡ˆ [['Mary'ï¼Œ'mary@mail.com']ï¼Œ['John'ï¼Œ'johnnybravo@mail.com']ï¼Œ
['John'ï¼Œ'john00@mail.com'ï¼Œ'john_newyork@mail.com'ï¼Œ'johnsmith@mail.com']] ä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚
```

**æç¤ºï¼š**

*   `accounts`çš„é•¿åº¦å°†åœ¨`[1ï¼Œ1000]`çš„èŒƒå›´å†…ã€‚
*   `accounts[i]`çš„é•¿åº¦å°†åœ¨`[1ï¼Œ10]`çš„èŒƒå›´å†…ã€‚
*   `accounts[i][j]`çš„é•¿åº¦å°†åœ¨`[1ï¼Œ30]`çš„èŒƒå›´å†…ã€‚

### è§£æ³•ä¸€

>æ²¡é”™ï¼Œè¿™æ˜¯ç¬¬äºŒé“ï¼Œä¸Šé¢çš„æ˜¯ç¬¬ 0 é“å’Œç¬¬ 1 é“ğŸ˜

æœ¬æ¥ä¸æƒ³è®°è¿™é“é¢˜çš„ï¼Œæ²¡å•¥æ„æ€ï¼Œä¸šåŠ¡é¢˜ï¼Œä½†æ˜¯å†™éƒ½å†™äº†ï¼Œè¿˜æ˜¯è®°ä¸€ä¸‹ï¼Œéš¾å€’æ˜¯ä¸éš¾ï¼Œå°±æ˜¯è¦ç†æ¸…æ¥šæ€è·¯ï¼Œæˆ‘æ„Ÿè§‰å¾ˆéº»çƒ¦ç›´æ¥çœ‹äº†é¢˜è§£ğŸ˜‚ï¼Œä¸è¿‡é¢˜è§£ä¹Ÿæœ‰ç‚¹å°ç‘•ç–µï¼Œé‚®ä»¶æ˜ å°„å§“åçš„æ—¶å€™å¯ä»¥ç”¨é‚®ä»¶çš„ç¼–å·ç›´æ¥æ˜ å°„çš„ï¼Œé¢˜è§£ä¾ç„¶ç”¨çš„å­—ç¬¦ä¸²ã€‚è¿™ç§é¢˜å…¶å®åªæƒ³ç†æ¸…æ¥šå…ˆå¹²å˜›åå¹²å˜›å°±å¥½åšäº†ï¼Œåˆ«è€æƒ³ç€ä¸€æ­¥éƒ½æ±‚å‡ºæ¥ï¼Œå…ˆåˆ†æ­¥ï¼Œåé¢èƒ½åˆå¹¶å†åˆå¹¶ã€‚

```java
â€‹import java.util.*;
import java.io.*;

class Solution {
    
    int[] parent;

    public void union(int a, int b) {
        parent[find(a)] = find(b);
    }

    public int find(int a) {
        if (parent[a] == a) return a;
        return parent[a] = find(parent[a]);
    }

    // æ¯”è¾ƒç¹çï¼Œæƒ³æ¸…æ¥šäº†å†™å°±å¾ˆç®€å•ï¼Œæ²¡å•¥æ„æ€
    public List<List<String>> accountsMerge(List<List<String>> acc) {
        //email : idx
        HashMap<String, Integer> e2i = new HashMap<>();
        //idx : name
        HashMap<Integer, String> i2n = new HashMap<>();
        int cnt = 0;
        for (int i = 0; i < acc.size(); i++) {
            String name = acc.get(i).get(0);
            for (int j = 1; j < acc.get(i).size(); j++) {
                String email = acc.get(i).get(j);
                if (!e2i.containsKey(email)) {
                    e2i.put(email, cnt);
                    i2n.put(cnt++, name);
                }
            }
        }
        parent = new int[cnt];
        for (int i = 0; i < cnt; i++) {
            parent[i] = i;
        }
        for (int i = 0; i < acc.size(); i++) {
            int first = e2i.get(acc.get(i).get(1));
            for (int j = 2; j < acc.get(i).size(); j++) {
                union(first, e2i.get(acc.get(i).get(j)));
            }
        }
        // idx : emails
        HashMap<Integer, List<String>> map = new HashMap<>();
        for (String email : e2i.keySet()) {
            map.computeIfAbsent(find(e2i.get(email)), k->new LinkedList<>()).add(email);
        }
        List<List<String>> res = new ArrayList<>();
        for (Integer idx : map.keySet()) {
            String name = i2n.get(idx);
            List<String> emails = map.get(idx);
            Collections.sort(emails);
            emails.add(0, name);
            res.add(emails);
        }
        return res;
    }
}
```